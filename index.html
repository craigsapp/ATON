<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Aton by craigsapp</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Aton</h1>
        <p>AT object notation</p>
        <p class="view"><a href="https://github.com/craigsapp/ATON">View the Project on GitHub <small>craigsapp/ATON</small></a></p>
        <ul>
          <li><a href="https://github.com/craigsapp/ATON/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/craigsapp/ATON/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/craigsapp/ATON">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="aton" class="anchor" href="#aton" aria-hidden="true"><span class="octicon octicon-link"></span></a>ATON</h1>

<p>ATON stands for "AT Object Notation."  It functions in a similar
manner to JSON, the main difference is that property values are
allowed to contain un-escaped line breaks in ATON property values.
Property keys are indicated by starting a line with the "@" symbol,
followed by the property name, then a colon (:) and then the property
value.  Here is a simple example of an ATON file:</p>

<p></p>

<table>
<tr valign="top">
<td>
ATON file:
<pre>
@key1: value1
@key2: value2
@key3: value3
</pre>
</td>
<td>
JavaScript object:
<pre>
{
   key1: "value1",
   key2: "value2",
   key3: "value3"
}
</pre>
</td>
</tr>
</table>

<p></p>

<p>ATON Content is converted from a string into a JavaScript object
with the <code>.parse()</code> method.  The process can be reversed by using the
<code>.stringify()</code> method.</p>

<h2>
<a id="usage-in-node-applications" class="anchor" href="#usage-in-node-applications" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage in Node applications</h2>

<p>This module can be installed for use in <a href="http://nodejs.org">node</a> by
installing globally with the command:</p>

<div class="highlight highlight-bash"><pre>$ npm install -g aton</pre></div>

<p>If you want to use only locally within a node project, then install
as a package dependency with the command:</p>

<div class="highlight highlight-bash"><pre>$ npm install --save aton</pre></div>

<p>Here is an example of loading the module into a node script and processing
an ATON string.  This string contains most of the capabilities of
ATON.</p>

<ul>
<li>
<strong>key1</strong> is a single-line value.</li>
<li>
<strong>key2</strong> has a multi-line value, containing a literal newline.</li>
<li>
<strong>key3</strong> has an object as its value.</li>
<li>
<strong>key3b</strong> is a floating-point number.</li>
<li>
<strong>key3c</strong> has three integer values which are packed into a JavaScript array.</li>
</ul>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> aton <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>aton<span class="pl-pds">'</span></span>);
<span class="pl-s">var</span> ATON <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">aton</span>();

<span class="pl-s">var</span> atonString <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>@@type:key3c:Integer<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>@@type:key3b:Number<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>@key1: value1<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>@key2: value2<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>value2 continued<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>@@begin: key3<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>@key3a: value3a<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>value3a continued<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>value3a continued further<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>@key3b: 2.71828<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>@key3c: 1<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>@key3c: -45<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>@key3c: 3.14<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>@@end: value3<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
atonString <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>@key4: value4<span class="pl-cce">\n</span><span class="pl-pds">'</span></span>;
<span class="pl-en">console</span><span class="pl-s3">.log</span>(atonString);
<span class="pl-s">var</span> obj <span class="pl-k">=</span> ATON.<span class="pl-s3">parse</span>(atonString);
<span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">'</span><span class="pl-cce">\n</span><span class="pl-pds">'</span></span>, obj);</pre></div>

<p>The above code should output the following text to the console:</p>

<pre lang="text"><code>@@type:key3c:Integer
@@type:key3b:Number
@key1: value1
@key2: value2
value2 continued
@@begin: key3
@key3a: value3a
value3a continued
value3a continued further
@key3b: 2.71828
@key3c: 1
@key3c: -45
@key3c: 3.14
@@end: value3
@key4: value4

 { key1: 'value1',
  key2: 'value2\nvalue2 continued',
  key3:
   { key3a: 'value3a\nvalue3a continued\nvalue3a continued further',
     key3b: 'value3b',
     key3c: [ 1, -45, 3 ] },
  key4: 'value4' }
</code></pre>

<p>Whitespace before an after a parameter value is removed automatically
during the conversion process.  Also notice that multi-line values
contain an escaped newline character in the translation to a
JavaScript object. Meta entries starting with "@<a href="https://github.com/TYPE" class="user-mention">@TYPE</a>" set the data
type for parameters with a given name, such as "Number" to parse the
property value as a number and "Integer" to parse as an integer.</p>

<h2>
<a id="browser" class="anchor" href="#browser" aria-hidden="true"><span class="octicon octicon-link"></span></a>Browser</h2>

<p>The JavaScript files for ATON can also be used within
a webpage by including the main JavaScript file for ATON:</p>

<div class="highlight highlight-HTML"><pre>&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s1"><span class="pl-pds">"</span>aton.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</pre></div>

<p>Visit the <a href="http://aton.sapp.org">ATON homepage</a> to try an online
demo of ATON parser running within a webpage.</p>

<h2>
<a id="testing" class="anchor" href="#testing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing</h2>

<p>Input and output from the code can be tested using
<a href="http://mochajs.org">mocha</a> and the JavaScript files in the <code>test</code>
directory.  To test from a node installation:</p>

<div class="highlight highlight-bash"><pre>$ npm install   <span class="pl-c"># to download mocha dependency if necessary</span>
$ npm <span class="pl-s3">test</span></pre></div>

<h2>
<a id="website" class="anchor" href="#website" aria-hidden="true"><span class="octicon octicon-link"></span></a>Website</h2>

<p>The website for ATON documentation is
<a href="http://aton.sapp.org">http://aton.sapp.org</a>.</p>

<p>And the corresponding GitHub repository is
<a href="https://github.com/craigsapp/aton">https://github.com/craigsapp/aton</a>.</p>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/craigsapp">craigsapp</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-58678580-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>